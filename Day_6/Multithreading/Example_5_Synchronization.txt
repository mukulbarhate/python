# example of  synchronization

import threading


lock=threading.Lock()
def production():
    lock.acquire()
    print("\nLet's produce\n")
    for i in range(1,6):
        print("producing\t",i)
    lock.release()

def consumption():
    lock.acquire()
    print("\nLet's consume\n")
    for i in range(1,6):
        print("consuming\t",i)
    lock.release()

t1 = threading.Thread(target=production)
t2 = threading.Thread(target=consumption)

t1.start()
t2.start()

t1.join()   # main thread will wait till t1 finishes
t2.join()   # main thread will wait till t2 finishes

print("Done")
print("\nDone is printed by\t",threading.current_thread())